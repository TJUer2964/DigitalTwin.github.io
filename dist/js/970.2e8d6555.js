"use strict";(self["webpackChunkdigitaltwin"]=self["webpackChunkdigitaltwin"]||[]).push([[970],{3970:function(t,e,l){l.r(e),l.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"alert-nav"},[e("span",{staticStyle:{"margin-right":"40px"}},[t._v(" 实时报警/历史报警 ")]),e("el-select",{attrs:{placeholder:"全部空压站"},on:{change:t.filterTable},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{staticStyle:{"margin-left":"50px",padding:"10px 30px"},attrs:{type:"primary",plain:""},on:{click:t.filterCurrentAlerts}},[t._v("当前报警")]),e("el-button",{staticStyle:{padding:"10px 30px"},attrs:{type:"primary",plain:""},on:{click:t.filterHistoryAlerts}},[t._v("历史报警")])],1),e("div",{staticStyle:{"margin-top":"100px"}},[e("el-table",{staticStyle:{width:"100%",height:"700px"},attrs:{data:t.tableData,border:"","row-style":{height:"40px"}}},[e("el-table-column",{attrs:{prop:"id",label:"",width:"40"}}),e("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.date))])]}}])}),e("el-table-column",{attrs:{prop:"time",label:"时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.time))])]}}])}),e("el-table-column",{attrs:{prop:"msg",label:"报警信息",width:"450"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.msg))])]}}])}),e("el-table-column",{attrs:{prop:"equip",label:"故障设备",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.equip))])]}}])}),e("el-table-column",{attrs:{prop:"where",label:"报警发生地",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.where))])]}}])}),e("el-table-column",{attrs:{prop:"limit",label:"报警阈值",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.limit))])]}}])}),e("el-table-column",{attrs:{prop:"ltime",label:"持续时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",{staticStyle:{color:"red"}},[t._v(t._s(l.row.ltime))])]}}])})],1)],1)])},r=[],i=(l(7658),{mounted(){this.tableData=this.generateRandomData(),this.alldata=JSON.parse(JSON.stringify(this.tableData))},data(){return{alldata:[],selectedValue:"option0",currentOnly:!1,options:[{value:"option0",label:"全部空压站"},{value:"option1",label:"空压站1"},{value:"option2",label:"空压站2"},{value:"option3",label:"空压站3"},{value:"option4",label:"空压站4"}],tableData:[]}},methods:{generateRandomData(){let t=[];for(let e=1;e<=14;e++){let l,a=e,r=Date.now()-1e3*Math.random()*60*60*24*30,i=new Date(r);l=e<5?(new Date).toISOString().split("T")[0]:i.toISOString().split("T")[0];let n=i.toTimeString().split(" ")[0],o=Math.ceil(4*Math.random()),s=`${o}#空压机故障`,u=`${o}号空压机`,p=`${o}#空压站`,c="",d="00:00:00",f={id:a.toString(),date:l,time:n,msg:s,equip:u,where:p,limit:c,ltime:d};t.push(f)}t.sort(((t,e)=>{let l=new Date(t.date+" "+t.time),a=new Date(e.date+" "+e.time);return a-l}));for(let e=0;e<t.length;e++)t[e].id=(e+1).toString();return t},filterTable(t){this.selectedValue=t,this.filterData()},filterCurrentAlerts(){this.currentOnly=!0,this.filterData()},filterHistoryAlerts(){this.currentOnly=!1,this.filterData()},filterData(){let t=this.alldata;if("option0"!==this.selectedValue){let e=this.selectedValue.slice(-1)+"#空压站";t=t.filter((t=>t.where===e))}let e=(new Date).toISOString().split("T")[0];t=this.currentOnly?t.filter((t=>t.date===e)):t.filter((t=>t.date!==e)),this.tableData=t}}}),n=i,o=l(1001),s=(0,o.Z)(n,a,r,!1,null,null,null),u=s.exports}}]);
//# sourceMappingURL=970.2e8d6555.js.map